import React, { useState, useEffect } from 'react';
import { CheckCircle2, XCircle, ChevronRight, RotateCcw, Award, Info } from 'lucide-react';

const quizData = [
  {
    id: 1,
    question: "Ποιο είναι το μοναδικό χαρακτηριστικό της ΚΓΔ σε σχέση με άλλες αρθρώσεις του ανθρώπινου σώματος;",
    options: [
      "Είναι η μόνη άρθρωση που δεν έχει καθόλου συνδέσμους.",
      "Λειτουργεί πάντα ταυτόχρονα με την αντίστοιχη άρθρωση της άλλης πλευράς ως ενιαία μονάδα.",
      "Δεν επιδέχεται καθόλου φορτία κατά τη λειτουργία της μάσησης.",
      "Είναι η μόνη άρθρωση που καλύπτεται από υαλώδη χόνδρο."
    ],
    correct: 1,
    rationale: "Λόγω της σύνδεσης μέσω της κάτω γνάθου, οι δύο αρθρώσεις δρουν πάντα αμφίπλευρα και αλληλεξαρτώμενα."
  },
  {
    id: 2,
    question: "Τι είδους ιστός καλύπτει τις αρθρικές επιφάνειες της ΚΓΔ (κόνδυλο και γλήνη);",
    options: [
      "Υαλώδης χόνδρος.",
      "Πυκνός ινώδης συνδετικός ιστός (ινώδης χόνδρος).",
      "Επιθηλιακός ιστός.",
      "Μόνο περιοστικό."
    ],
    correct: 1,
    rationale: "Ο ινώδης χόνδρος προσφέρει μεγαλύτερη αντοχή σε τριβές και φορτία και έχει μεγαλύτερη ικανότητα αναδιαμόρφωσης."
  },
  {
    id: 3,
    question: "Ποια περιοχή της κροταφικής γλήνης δέχεται τη μεγαλύτερη φόρτιση κατά τη λειτουργία;",
    options: [
      "Η λεπτή οροφή της γλήνης.",
      "Το κεκλιμένο οπίσθιο τοίχωμα του αρθρικού φύματος.",
      "Η τυμπανολεπιδοειδής σχισμή.",
      "Ο έξω ακουστικός πόρος."
    ],
    correct: 1,
    rationale: "Αυτή η περιοχή είναι ανατομικά προσαρμοσμένη με παχύ στρώμα ινώδους χόνδρου για να αντέχει τις πιέσεις του κονδύλου."
  },
  {
    id: 4,
    question: "Ποιο είναι το μέσο εύρος του κονδύλου στη μεσοπλάγια (transverse) διάσταση;",
    options: [
      "10 χιλιοστά.",
      "20 χιλιοστά.",
      "35 χιλιοστά.",
      "5 χιλιοστά."
    ],
    correct: 1,
    rationale: "Η μεσοπλάγια διάσταση του κονδύλου κυμαίνεται συνήθως μεταξύ 15 και 25 χιλιοστών, με μέσο όρο τα 20."
  },
  {
    id: 5,
    question: "Ο επιμήκης άξονας του κονδύλου συνήθως:",
    options: [
      "Είναι απόλυτα παράλληλος με το μέσο οβελιαίο επίπεδο.",
      "Συγκλίνει προς τα οπίσθια, σχηματίζοντας αμβλεία γωνία με τον άξονα του αντίθετου κονδύλου.",
      "Είναι κάθετος στο οριζόντιο επίπεδο.",
      "Συγκλίνει προς τα εμπρός."
    ],
    correct: 1,
    rationale: "Οι άξονες των δύο κονδύλων αν προεκταθούν συναντώνται στο πρόσθιο χείλος του ινιακού τρήματος."
  },
  {
    id: 6,
    question: "Η ανάπτυξη του κονδύλου της κάτω γνάθου ολοκληρώνεται συνήθως:",
    options: [
      "Στην ηλικία των 5 ετών.",
      "Κατά την εμβρυϊκή ζωή.",
      "Προς το τέλος της εφηβείας στις γυναίκες και μέχρι τα 20-25 έτη στους άνδρες.",
      "Μετά την ηλικία των 40 ετών."
    ],
    correct: 2,
    rationale: "Η ανάπτυξη του κονδύλου συμβαδίζει με τη σκελετική ωρίμανση του ατόμου."
  },
  {
    id: 7,
    question: "Ο διάρθριος δίσκος της ΚΓΔ είναι:",
    options: [
      "Μια πλήρως αγγειούμενη και νευρούμενη δομή.",
      "Μια μη αγγειούμενη και μη νευρούμενη δομή στο κεντρικό του τμήμα (διάμεση ζώνη).",
      "Αποτελείται αποκλειστικά από ελαστικές ίνες.",
      "Μια οστική δομή που προστατεύει τον κόνδυλο."
    ],
    correct: 1,
    rationale: "Το κεντρικό τμήμα δέχεται τις πιέσεις και γι' αυτό στερείται αγγείων και νεύρων."
  },
  {
    id: 8,
    question: "Ποιο τμήμα του δίσκου είναι το λεπτότερο;",
    options: [
      "Η πρόσθια μοίρα.",
      "Η οπίσθια μοίρα.",
      "Η διάμεση (μέση) ζώνη.",
      "Τα πλάγια χείλη."
    ],
    correct: 2,
    rationale: "Η διάμεση ζώνη είναι το λεπτότερο σημείο και εκεί όπου πραγματοποιείται η κύρια φόρτιση."
  },
  {
    id: 9,
    question: "Η 'διστιβάδαστη ζώνη' (bilaminar zone) αναφέρεται στον:",
    options: [
      "Πρόσθιο σύνδεσμο του δίσκου.",
      "Οπίσθιο σύνδεσμο του δίσκου.",
      "Έξω πτερυγοειδή μυ.",
      "Πλάγιο σύνδεσμο της γνάθου."
    ],
    correct: 1,
    rationale: "Αποτελείται από ένα άνω ελαστικό πέταλο και ένα κάτω ινώδες πέταλο, εξ ου και το όνομά της."
  },
  {
    id: 10,
    question: "Το άνω πέταλο του οπίσθιου συνδέσμου χαρακτηρίζεται από:",
    options: [
      "Την παρουσία πολλών ελαστικών ινών.",
      "Την πλήρη απουσία αγγείων.",
      "Την πρόσφυσή του στον αυχένα του κονδύλου.",
      "Την ακαμψία του."
    ],
    correct: 0,
    rationale: "Οι ελαστικές ίνες επιτρέπουν στον δίσκο να ολισθαίνει προς τα εμπρός και τον βοηθούν να επανέλθει."
  },
  {
    id: 11,
    question: "Ποια είναι η κύρια λειτουργία των πλάγιων (παραπλεύριων) συνδέσμων του δίσκου;",
    options: [
      "Να ωθούν τον δίσκο προς τα εμπρός.",
      "Να συγκρατούν τον δίσκο πάνω στον κόνδυλο, επιτρέποντας μόνο την περιστροφή του.",
      "Να παράγουν αρθρικό υγρό.",
      "Να περιορίζουν τη διάνοιξη του στόματος."
    ],
    correct: 1,
    rationale: "Συνδέουν τα άκρα του δίσκου με τους πόλους του κονδύλου, δημιουργώντας τη μονάδα δίσκου-κονδύλου."
  },
  {
    id: 12,
    question: "Η άνω κεφαλή του έξω πτερυγοειδούς μυός καταφύεται κυρίως:",
    options: [
      "Στην κροταφική γλήνη.",
      "Στο πρόσθιο χείλος του δίσκου και στον θύλακα της άρθρωσης.",
      "Στον μασητήρα μυ.",
      "Αποκλειστικά στον αυχένα του κονδύλου."
    ],
    correct: 1,
    rationale: "Η πρόσφυση αυτή επιτρέπει στον μυ να ελέγχει τη θέση του δίσκου κατά το κλείσιμο του στόματος."
  },
  {
    id: 13,
    question: "Κατά τη διάνοιξη του στόματος, η κίνηση στην ΚΓΔ είναι:",
    options: [
      "Μόνο καθαρή περιστροφή.",
      "Μόνο μετάθεση (ολίσθηση).",
      "Συνδυασμός περιστροφής και μετάθεσης.",
      "Πλάγια ολίσθηση χωρίς κίνηση του κονδύλου."
    ],
    correct: 2,
    rationale: "Η κίνηση ξεκινά με περιστροφή στον κάτω θάλαμο και συνεχίζει με μετάθεση στον άνω θάλαμο."
  },
  {
    id: 14,
    question: "Ο κόνδυλος κατά τη μέγιστη διάνοιξη βρίσκεται:",
    options: [
      "Στο βαθύτερο σημείο της κροταφικής γλήνης.",
      "Κάτω ή ελαφρώς εμπρός από το αρθρικό φύμα.",
      "Μέσα στον έξω ακουστικό πόρο.",
      "Πίσω από την τυμπανολεπιδοειδή σχισμή."
    ],
    correct: 1,
    rationale: "Ο κόνδυλος ολισθαίνει προς τα εμπρός και κάτω κατά μήκος του αρθρικού φύματος."
  },
  {
    id: 15,
    question: "Η περιστροφή του κονδύλου κατά τη διάνοιξη γίνεται κυρίως:",
    options: [
      "Μεταξύ της άνω επιφάνειας του δίσκου και της γλήνης.",
      "Μεταξύ της κάτω επιφάνειας του δίσκου και της κεφαλής του κονδύλου.",
      "Μέσα στο οπίσθιο τοίχωμα του φύματος.",
      "Μόνο στην εργαζόμενη πλευρά."
    ],
    correct: 1,
    rationale: "Ο κάτω θάλαμος είναι υπεύθυνος για την περιστροφική κίνηση της άρθρωσης."
  },
  {
    id: 16,
    question: "Ποιο είναι το κύριο νεύρο που παρέχει αισθητική νεύρωση στην ΚΓΔ;",
    options: [
      "Το προσωπικό νεύρο (VII).",
      "Το ωτοκροταφικό νεύρο (κλάδος του V3).",
      "Το υπογλώσσιο νεύρο (XII).",
      "Το κάτω φατνιακό νεύρο."
    ],
    correct: 1,
    rationale: "Το ωτοκροταφικό νεύρο παρέχει τη συντριπτική πλειοψηφία της αισθητικής νεύρωσης στην άρθρωση."
  },
  {
    id: 17,
    question: "Ποια ουσία του αρθρικού υγρού είναι η κύρια υπεύθυνη για τη λίπανση των επιφανειών;",
    options: [
      "Η κερατίνη.",
      "Το υαλουρονικό οξύ και η λιπαντίνη (lubricin).",
      "Η αιμοσφαιρίνη.",
      "Το ασβέστιο."
    ],
    correct: 1,
    rationale: "Αυτά τα μόρια μειώνουν την τριβή μεταξύ του δίσκου και των οστικών επιφανειών."
  },
  {
    id: 18,
    question: "Η λίπανση 'εξιδρώματος' (weeping lubrication) συμβαίνει όταν:",
    options: [
      "Η άρθρωση βρίσκεται σε πλήρη ηρεμία.",
      "Υπό συνθήκες συμπίεσης, το υγρό εξέρχεται από τον χόνδρο στην αρθρική κοιλότητα.",
      "Ο δίσκος έχει υποστεί ολική ρήξη.",
      "Υπάρχει φλεγμονή και οίδημα."
    ],
    correct: 1,
    rationale: "Η πίεση αναγκάζει το υγρό να βγει από τους πόρους του χόνδρου για να προστατεύσει τις επιφάνειες."
  },
  {
    id: 19,
    question: "Τι συμβαίνει στον 'οπισθοκονδυλικό χώρο' κατά το κλείσιμο του στόματος (ανάσπαση);",
    options: [
      "Συμπιέζεται έντονα από τον κόνδυλο.",
      "Γεμίζει με αίμα μέσω του φλεβικού πλέγματος για να καλύψει το κενό που δημιουργείται.",
      "Εξαφανίζεται τελείως.",
      "Αδειάζει από κάθε είδους υγρό."
    ],
    correct: 1,
    rationale: "Καθώς ο κόνδυλος κινείται πίσω, το φλεβικό πλέγμα διογκώνεται για να πληρώσει τον χώρο."
  },
  {
    id: 20,
    question: "Τα σωμάτια Ruffini και Vater-Pacini στην ΚΓΔ είναι:",
    options: [
      "Τύποι κυττάρων που παράγουν κολλαγόνο.",
      "Μηχανοϋποδοχείς για την αίσθηση της θέσης και της πίεσης (ιδιοδεκτικότητα).",
      "Αιμοφόρα αγγεία μικρού διαμετρήματος.",
      "Μικροί μύες που κινούν τον δίσκο."
    ],
    correct: 1,
    rationale: "Στέλνουν σήματα στον εγκέφαλο για το πού βρίσκεται η γνάθος και πόση πίεση ασκείται."
  },
  {
    id: 21,
    question: "Η αγγείωση της ΚΓΔ προέρχεται κυρίως από:",
    options: [
      "Την εσωτερική καρωτίδα αρτηρία.",
      "Την επιπολής κροταφική και την έσω γναθιαία αρτηρία.",
      "Την προσωπική αρτηρία.",
      "Την σπονδυλική αρτηρία."
    ],
    correct: 1,
    rationale: "Αυτοί οι δύο κύριοι κλάδοι της εξωτερικής καρωτίδας περιβάλλουν και τρέφουν την άρθρωση."
  },
  {
    id: 22,
    question: "Τι είναι η 'αναδιαμόρφωση' (remodeling) της ΚΓΔ;",
    options: [
      "Η πλήρης καταστροφή των αρθρικών επιφανειών.",
      "Η προσαρμοστική ανταπόκριση των ιστών στις μεταβολές της λειτουργικής φόρτισης.",
      "Η χειρουργική πλαστική του δίσκου.",
      "Η μετακίνηση των δοντιών λόγω ορθοδοντικής."
    ],
    correct: 1,
    rationale: "Η άρθρωση αλλάζει το σχήμα της για να ανταπεξέλθει καλύτερα στις νέες πιέσεις."
  },
  {
    id: 23,
    question: "Η παρεκτόπιση (μετάθεση) του δίσκου συνήθως γίνεται προς τα:",
    options: [
      "Οπίσθια (πίσω).",
      "Πρόσθια (εμπρός).",
      "Κάτω.",
      "Έξω."
    ],
    correct: 1,
    rationale: "Λόγω της έλξης του έξω πτερυγοειδούς μυός, ο δίσκος τείνει να μετατοπίζεται προς τα εμπρός."
  },
  {
    id: 24,
    question: "Ποια απεικονιστική μέθοδος είναι η 'χρυσή επιλογή' (gold standard) για την αξιολόγηση του δίσκου;",
    options: [
      "Η πανοραμική ακτινογραφία.",
      "Η υπολογιστική τομογραφία (CT).",
      "Η μαγνητική τομογραφία (MRI).",
      "Το σπινθηρογράφημα οστών."
    ],
    correct: 2,
    rationale: "Η MRI επιτρέπει την καθαρή απεικόνιση του δίσκου, των συνδέσμων και της αρθρικής μεμβράνης."
  },
  {
    id: 25,
    question: "Τι υποδηλώνει η παρουσία ήχου 'κρακ' (clicking) κατά τη διάνοιξη του στόματος;",
    options: [
      "Ότι η άρθρωση είναι απόλυτα υγιής.",
      "Πιθανή παρεκτόπιση του δίσκου με επαναφορά.",
      "Κάταγμα του κονδύλου.",
      "Πλήρη αγκύλωση της άρθρωσης."
    ],
    correct: 1,
    rationale: "Ο ήχος παράγεται όταν ο κόνδυλος 'πηδάει' πάνω στον δίσκο και επανέρχεται στη σωστή θέση."
  },
  {
    id: 26,
    question: "Πώς διακρίνεται η πρωτογενής οστεοάρθρωση (osteoarthrosis) από την οστεοαρθρίτιδα (osteoarthritis);",
    options: [
      "Η οστεοάρθρωση είναι καθαρά φλεγμονώδης νόσος.",
      "Η οστεοάρθρωση αφορά την εκφύλιση χωρίς κλινικά σημεία φλεγμονής, ενώ η οστεοαρθρίτιδα περιλαμβάνει και φλεγμονώδη ανταπόκριση.",
      "Δεν υπάρχει καμία διαφορά στην ορολογία.",
      "Η οστεοαρθρίτιδα είναι πάντα πρωτογενής."
    ],
    correct: 1,
    rationale: "Η 'άρθρωση' είναι η εκφύλιση (κατάσταση) και η 'αρθρίτιδα' είναι η φλεγμονή που συχνά ακολουθεί."
  },
  {
    id: 27,
    question: "Ποιος είναι ο ρόλος των πρωτεογλυκανών στον διάρθριο δίσκο;",
    options: [
      "Να μεταφέρουν ηλεκτρικά σήματα στους μύες.",
      "Να δεσμεύουν νερό, προσδίδοντας στον δίσκο αντοχή σε θλιπτικές τάσεις.",
      "Να κάνουν τον δίσκο σκληρό σαν κόκκαλο.",
      "Να παράγουν ερυθρά αιμοσφαίρια."
    ],
    correct: 1,
    rationale: "Λειτουργούν σαν 'υδραυλικά μαξιλάρια' που απορροφούν τους κραδασμούς."
  },
  {
    id: 28,
    question: "Στην MRI, η φυσιολογική θέση του δίσκου σε κατάσταση σύγκλεισης ορίζεται όταν:",
    options: [
      "Η οπίσθια δέσμη του δίσκου βρίσκεται στη θέση '12 η ώρα' πάνω από τον κόνδυλο.",
      "Ο δίσκος βρίσκεται εντελώς μπροστά από τον κόνδυλο.",
      "Ο δίσκος είναι ακουμπισμένος στο τύμπανο του αυτιού.",
      "Η διάμεση ζώνη βρίσκεται πίσω από τον κόνδυλο."
    ],
    correct: 0,
    rationale: "Αυτό είναι το ακτινολογικό κριτήριο για τη σωστή προσθιοπίσθια θέση του δίσκου."
  },
  {
    id: 29,
    question: "Ποια είναι η γωνία περιστροφής του κονδύλου κατά τη φυσιολογική μέγιστη διάνοιξη;",
    options: [
      "Περίπου 10 μοίρες.",
      "Περίπου 25-30 μοίρες.",
      "90 μοίρες.",
      "0 μοίρες."
    ],
    correct: 1,
    rationale: "Ο κόνδυλος περιστρέφεται περίπου 30 μοίρες πριν η κίνηση συνεχιστεί κυρίως με μετάθεση."
  },
  {
    id: 30,
    question: "Η φόρτιση στην ΚΓΔ κατά τη μονόπλευρη μάσηση είναι:",
    options: [
      "Μεγαλύτερη στην πλευρά που μασάμε (εργαζόμενη).",
      "Μεγαλύτερη στην αντίθετη πλευρά (αντιρροπούσα).",
      "Μηδενική και στις δύο πλευρές.",
      "Πάντα ίση και στις δύο πλευρές."
    ],
    correct: 1,
    rationale: "Η αντιρροπούσα πλευρά λειτουργεί ως υπομόχλιο και δέχεται τα μεγαλύτερα φορτία συμπίεσης."
  },
  {
    id: 31,
    question: "Η μείωση της κυτταρικής πυκνότητας στον κόνδυλο μετά τα 30 έτη συνοδεύεται συνήθως από:",
    options: [
      "Αύξηση της 'ίνωσης' του χόνδρου.",
      "Πλήρη μετατροπή του σε λίπος.",
      "Αύξηση της ταχύτητας επούλωσης.",
      "Εξαφάνιση του αρθρικού υγρού."
    ],
    correct: 0,
    rationale: "Με την ηλικία, ο χόνδρος γίνεται πιο ινώδης και λιγότερο κυτταροβριθής."
  },
  {
    id: 32,
    question: "Ποιος σύνδεσμος περιορίζει την προς τα πίσω κίνηση του κονδύλου και προστατεύει τον έξω ακουστικό πόρο;",
    options: [
      "Ο σφηνογναθικός σύνδεσμος.",
      "Το κάτω πέταλο του οπίσθιου συνδέσμου του δίσκου.",
      "Ο βελονογναθικός σύνδεσμος.",
      "Ο μασητήρας μυς."
    ],
    correct: 1,
    rationale: "Αυτή η ινώδης δέσμη συγκρατεί τον δίσκο και τον κόνδυλο από υπερβολική οπίσθια μετατόπιση."
  },
  {
    id: 33,
    question: "Η αρθρική μεμβράνη (υμένας) ΔΕΝ καλύπτει:",
    options: [
      "Τα εσωτερικά τοιχώματα του αρθρικού θυλάκου.",
      "Τις λειτουργικές αρθρικές επιφάνειες που δέχονται φορτία (χόνδρος).",
      "Την οπίσθια διστιβάδαστη ζώνη.",
      "Τις πλάγιες επιφάνειες του δίσκου."
    ],
    correct: 1,
    rationale: "Αν κάλυπτε τις επιφάνειες φόρτισης, θα καταστρεφόταν αμέσως από την τριβή."
  },
  {
    id: 34,
    question: "Ο 'κλειδωμένος' κόνδυλος (closed lock) συμβαίνει όταν:",
    options: [
      "Ο δίσκος έχει μετατοπιστεί πρόσθια χωρίς επαναφορά.",
      "Ο ασθενής έχει πολύ μεγάλο άνοιγμα στόματος.",
      "Τα δόντια είναι πολύ φθαρμένα.",
      "Υπάρχει υπερτροφία του μασητήρα."
    ],
    correct: 0,
    rationale: "Ο δίσκος παραμένει μπροστά από τον κόνδυλο και εμποδίζει τη διάνοιξη πέρα από τα 20-25 χιλιοστά."
  },
  {
    id: 35,
    question: "Ποιο είναι το κύριο κολλαγόνο που βρίσκεται στον ινώδη χόνδρο της ΚΓΔ;",
    options: [
      "Τύπου ΙΙ.",
      "Τύπου Ι.",
      "Τύπου IV.",
      "Τύπου Χ."
    ],
    correct: 1,
    rationale: "Το κολλαγόνο τύπου Ι προσφέρει τη μεγάλη εφελκυστική αντοχή που απαιτείται στην ΚΓΔ."
  },
  {
    id: 36,
    question: "Η 'διάγνωση εξ αποκλεισμού' για τον αρθρογενή πόνο συχνά περιλαμβάνει:",
    options: [
      "Την πραγματοποίηση χειρουργείου.",
      "Την αναισθητοποίηση του ωτοκροταφικού νεύρου (διαγνωστικός αποκλεισμός).",
      "Την εξαγωγή όλων των φρονιμιτών.",
      "Τη λήψη βιοψίας από το οστό του κονδύλου."
    ],
    correct: 1,
    rationale: "Αν ο πόνος σταματήσει μετά την ένεση, επιβεβαιώνεται ότι η πηγή του είναι η άρθρωση."
  },
  {
    id: 37,
    question: "Η ικανότητα της ΚΓΔ να ανταπεξέρχεται σε φορτία εξαρτάται από:",
    options: [
      "Την ταχύτητα με την οποία μιλάει ο ασθενής.",
      "Την ισορροπία μεταξύ αναβολικών και καταβολικών διαδικασιών στους ιστούς.",
      "Το πόσα δόντια έχει ο ασθενής στην άνω γνάθο μόνο.",
      "Το χρώμα των ματιών του ασθενούς."
    ],
    correct: 1,
    rationale: "Αν ο καταβολισμός ξεπεράσει τον αναβολισμό, ξεκινά η εκφύλιση."
  },
  {
    id: 38,
    question: "Ποιος είναι ο ρόλος της λιπαντίνης (lubricin) στο αρθρικό υγρό;",
    options: [
      "Να αυξάνει την τριβή για να μην γλιστράει ο δίσκος.",
      "Να προσκολλάται στις αρθρικές επιφάνειες και να εμποδίζει την επαφή οστού με οστό.",
      "Να σκοτώνει τα βακτήρια μέσα στην άρθρωση.",
      "Να πήζει το υγρό σε περίπτωση τραυματισμού."
    ],
    correct: 1,
    rationale: "Λειτουργεί σαν ένα προστατευτικό φιλμ που επιτρέπει την ομαλή ολίσθηση."
  },
  {
    id: 39,
    question: "Ο αρθρικός θύλακας της ΚΓΔ είναι πιο χαλαρός στο:",
    options: [
      "Πρόσθιο τμήμα του.",
      "Έσω τμήμα του.",
      "Πλάγιο τμήμα του.",
      "Οπίσθιο τμήμα του."
    ],
    correct: 0,
    rationale: "Η χαλαρότητα εμπρός επιτρέπει στον κόνδυλο να πραγματοποιεί τη μεγάλη κίνηση μετάθεσης."
  },
  {
    id: 40,
    question: "Ποιο από τα παρακάτω ΔΕΝ αποτελεί σύμπτωμα οστεοαρθρίτιδας της ΚΓΔ;",
    options: [
      "Ήχος τριγμού (crepitus).",
      "Πόνος κατά τη μάσηση.",
      "Αιφνίδια αύξηση της διάνοιξης του στόματος στα 60 χιλιοστά.",
      "Ακτινολογική εικόνα διάβρωσης του κονδύλου."
    ],
    correct: 2,
    rationale: "Η οστεοαρθρίτιδα συνήθως προκαλεί μείωση της κίνησης και δυσκαμψία, όχι αύξηση."
  }
];

export default function App() {
  const [currentQuestion, setCurrentQuestion] = useState(0);
  const [score, setScore] = useState(0);
  const [showResult, setShowResult] = useState(false);
  const [selectedOption, setSelectedOption] = useState(null);
  const [isAnswered, setIsAnswered] = useState(false);
  const [history, setHistory] = useState([]);

  const handleOptionSelect = (index) => {
    if (isAnswered) return;
    setSelectedOption(index);
    setIsAnswered(true);
    
    const correct = quizData[currentQuestion].correct === index;
    if (correct) {
      setScore(s => s + 1);
    }
    
    setHistory([...history, { 
      q: currentQuestion, 
      correct, 
      selected: index 
    }]);
  };

  const nextQuestion = () => {
    if (currentQuestion < quizData.length - 1) {
      setCurrentQuestion(currentQuestion + 1);
      setSelectedOption(null);
      setIsAnswered(false);
    } else {
      setShowResult(true);
    }
  };

  const resetQuiz = () => {
    setCurrentQuestion(0);
    setScore(0);
    setShowResult(false);
    setSelectedOption(null);
    setIsAnswered(false);
    setHistory([]);
  };

  const progress = ((currentQuestion + 1) / quizData.length) * 100;

  if (showResult) {
    return (
      <div className="min-h-screen bg-slate-50 flex items-center justify-center p-4 font-sans text-slate-800">
        <div className="max-w-2xl w-full bg-white rounded-3xl shadow-xl p-8 text-center animate-in fade-in zoom-in duration-500">
          <Award className="w-20 h-20 text-blue-500 mx-auto mb-6" />
          <h1 className="text-3xl font-bold mb-2">Το Τεστ Ολοκληρώθηκε!</h1>
          <p className="text-slate-500 mb-8">Συγχαρητήρια για την προσπάθειά σου.</p>
          
          <div className="grid grid-cols-2 gap-4 mb-8">
            <div className="bg-blue-50 p-6 rounded-2xl">
              <p className="text-sm text-blue-600 font-semibold uppercase tracking-wider mb-1">Σκορ</p>
              <p className="text-4xl font-black text-blue-700">{score} / {quizData.length}</p>
            </div>
            <div className="bg-slate-50 p-6 rounded-2xl">
              <p className="text-sm text-slate-600 font-semibold uppercase tracking-wider mb-1">Ποσοστό</p>
              <p className="text-4xl font-black text-slate-700">{Math.round((score / quizData.length) * 100)}%</p>
            </div>
          </div>

          <button 
            onClick={resetQuiz}
            className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl flex items-center justify-center gap-2 transition-all shadow-lg hover:shadow-blue-200 active:scale-95"
          >
            <RotateCcw className="w-5 h-5" />
            Επανάληψη Τεστ
          </button>
        </div>
      </div>
    );
  }

  const currentQ = quizData[currentQuestion];

  return (
    <div className="min-h-screen bg-slate-50 p-4 md:p-8 font-sans text-slate-800">
      <div className="max-w-3xl mx-auto">
        {/* Header */}
        <div className="mb-8 flex items-center justify-between bg-white p-4 rounded-2xl shadow-sm">
          <div className="flex flex-col">
            <span className="text-xs font-bold text-slate-400 uppercase tracking-widest">Ερώτηση</span>
            <span className="text-xl font-black text-slate-800">{currentQuestion + 1} <span className="text-slate-300">/ {quizData.length}</span></span>
          </div>
          <div className="w-32 md:w-48 h-3 bg-slate-100 rounded-full overflow-hidden">
            <div 
              className="h-full bg-blue-500 transition-all duration-500 ease-out"
              style={{ width: `${progress}%` }}
            ></div>
          </div>
        </div>

        {/* Question Area */}
        <div className="bg-white rounded-3xl shadow-lg overflow-hidden mb-6 border border-slate-100">
          <div className="p-8">
            <h2 className="text-xl md:text-2xl font-bold leading-tight mb-8">
              {currentQ.question}
            </h2>

            <div className="space-y-3">
              {currentQ.options.map((option, idx) => {
                let buttonClass = "w-full text-left p-5 rounded-2xl border-2 transition-all duration-200 flex items-start gap-4 ";
                let icon = null;

                if (!isAnswered) {
                  buttonClass += "border-slate-100 hover:border-blue-200 hover:bg-blue-50";
                } else {
                  if (idx === currentQ.correct) {
                    buttonClass += "border-green-500 bg-green-50 text-green-900";
                    icon = <CheckCircle2 className="w-6 h-6 text-green-500 shrink-0" />;
                  } else if (idx === selectedOption) {
                    buttonClass += "border-red-500 bg-red-50 text-red-900";
                    icon = <XCircle className="w-6 h-6 text-red-500 shrink-0" />;
                  } else {
                    buttonClass += "border-slate-50 opacity-50";
                  }
                }

                return (
                  <button
                    key={idx}
                    onClick={() => handleOptionSelect(idx)}
                    disabled={isAnswered}
                    className={buttonClass}
                  >
                    <span className={`w-8 h-8 rounded-lg shrink-0 flex items-center justify-center font-bold text-sm ${isAnswered ? 'hidden' : 'bg-slate-100 text-slate-500'}`}>
                      {String.fromCharCode(65 + idx)}
                    </span>
                    {icon}
                    <span className="font-medium text-lg">{option}</span>
                  </button>
                );
              })}
            </div>
          </div>

          {/* Feedback Section */}
          {isAnswered && (
            <div className="bg-blue-50 p-8 border-t border-blue-100 animate-in slide-in-from-bottom duration-300">
              <div className="flex gap-3 mb-2 text-blue-700 font-bold items-center">
                <Info className="w-5 h-5" />
                <span>Σκεπτικό:</span>
              </div>
              <p className="text-blue-900 opacity-90 leading-relaxed font-medium">
                {currentQ.rationale}
              </p>
            </div>
          )}
        </div>

        {/* Navigation */}
        <div className="flex justify-end">
          <button
            onClick={nextQuestion}
            disabled={!isAnswered}
            className={`
              px-8 py-4 rounded-2xl font-bold flex items-center gap-2 transition-all shadow-lg
              ${isAnswered 
                ? 'bg-slate-900 text-white hover:bg-black active:scale-95 shadow-slate-200' 
                : 'bg-slate-200 text-slate-400 cursor-not-allowed shadow-none'}
            `}
          >
            {currentQuestion === quizData.length - 1 ? "Ολοκλήρωση" : "Επόμενη"}
            <ChevronRight className="w-5 h-5" />
          </button>
        </div>
      </div>
    </div>
  );
}